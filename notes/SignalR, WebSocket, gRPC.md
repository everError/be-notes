**SignalR vs WebSocket vs gRPC** 정리이다.

---

# SignalR vs WebSocket vs gRPC 비교 문서

## 1. 개요

실시간 또는 양방향 통신을 구현하기 위한 대표적인 기술로는 **WebSocket**, **SignalR**, **gRPC**가 있다.
이 문서는 각 기술의 **역할, 구조, 특성, 사용 목적**을 기준으로 비교한다.

---

## 2. 기술 정의

### 2.1 WebSocket

WebSocket은 TCP 기반의 **저수준 양방향 통신 프로토콜**이다.
HTTP 연결을 업그레이드하여 하나의 지속적인 연결을 생성하며, 메시지의 구조나 의미는 정의하지 않는다.

---

### 2.2 SignalR

SignalR은 ASP.NET Core에서 제공하는 **실시간 통신 프레임워크**이다.
WebSocket을 포함한 여러 전송 방식을 추상화하고, Hub 기반의 RPC 모델을 제공한다.

---

### 2.3 gRPC

gRPC는 Google에서 개발한 **고성능 RPC 프레임워크**이다.
HTTP/2 기반으로 동작하며, Protocol Buffers를 사용하여 명확한 계약(contract)을 정의한다.

---

## 3. 아키텍처 비교

| 항목        | WebSocket   | SignalR          | gRPC              |
| ----------- | ----------- | ---------------- | ----------------- |
| 계층        | 프로토콜    | 프레임워크       | RPC 프레임워크    |
| 기반        | TCP         | WebSocket/SSE/LP | HTTP/2            |
| 메시지 규약 | 없음        | SignalR 프로토콜 | Protobuf          |
| 통신 모델   | 메시지 전송 | 양방향 RPC       | Unary / Streaming |
| 추상화 수준 | 낮음        | 중간             | 높음              |

---

## 4. 통신 방식 비교

### 4.1 WebSocket

- 단일 지속 연결
- 양방향 메시지 전송
- 메시지 형식 및 흐름은 사용자 정의

---

### 4.2 SignalR

- WebSocket 우선 사용
- 환경에 따라 SSE, Long Polling으로 자동 전환
- 서버·클라이언트 간 메서드 호출 방식 제공

---

### 4.3 gRPC

- HTTP/2 스트림 사용
- 명시적 서비스 및 메시지 계약
- 서버 스트리밍 / 클라이언트 스트리밍 / 양방향 스트리밍 지원

---

## 5. 데이터 직렬화

| 항목          | WebSocket   | SignalR          | gRPC     |
| ------------- | ----------- | ---------------- | -------- |
| 기본 포맷     | 사용자 정의 | JSON             | Protobuf |
| 바이너리 지원 | 가능        | MessagePack 옵션 | 기본     |
| 스키마 강제   | 없음        | 없음             | 있음     |

---

## 6. 연결 관리

| 항목           | WebSocket | SignalR   | gRPC            |
| -------------- | --------- | --------- | --------------- |
| 재연결         | 직접 구현 | 기본 제공 | 클라이언트 구현 |
| Keep-alive     | 직접 구현 | 내장      | HTTP/2          |
| 연결 상태 추적 | 직접 구현 | 제공      | 제한적          |

---

## 7. 확장성 및 스케일 아웃

| 항목          | WebSocket | SignalR        | gRPC             |
| ------------- | --------- | -------------- | ---------------- |
| 수평 확장     | 직접 구현 | Backplane 지원 | 인프라 의존      |
| 브로드캐스트  | 직접 구현 | 기본 제공      | 제한적           |
| 관리형 서비스 | 없음      | Azure SignalR  | gRPC 기반 서비스 |

---

## 8. 개발 생산성

| 항목        | WebSocket | SignalR | gRPC |
| ----------- | --------- | ------- | ---- |
| 개발 난이도 | 높음      | 낮음    | 중간 |
| 추상화 수준 | 낮음      | 높음    | 높음 |
| 타입 안정성 | 없음      | 제한적  | 강함 |
| 코드 생성   | 없음      | 없음    | 있음 |

---

## 9. 보안 및 인증

| 항목      | WebSocket | SignalR           | gRPC            |
| --------- | --------- | ----------------- | --------------- |
| TLS       | 가능      | 가능              | 필수            |
| 인증 통합 | 직접 구현 | ASP.NET 인증 연동 | 메타데이터 기반 |
| 권한 제어 | 직접 구현 | 필터/미들웨어     | 인터셉터        |

---

## 10. 주요 사용 사례

### WebSocket

- 실시간 데이터 스트림
- 게임 서버
- 프로토콜 실험
- 저지연 통신

---

### SignalR

- 실시간 알림
- 채팅 시스템
- 협업 도구
- 실시간 웹 UI

---

### gRPC

- 마이크로서비스 간 통신
- 서버 스트리밍 API
- 내부 서비스 통합
- 고성능 API

---

## 11. 제한 사항 요약

| 기술      | 주요 제한                |
| --------- | ------------------------ |
| WebSocket | 모든 로직 수동 구현 필요 |
| SignalR   | 프로토콜 자유도 제한     |
| gRPC      | 브라우저 지원 제약       |

---

## 12. 선택 기준 요약

| 요구사항         | 권장 기술 |
| ---------------- | --------- |
| 저수준 제어 필요 | WebSocket |
| 웹 실시간 UI     | SignalR   |
| 서비스 간 통신   | gRPC      |
| 계약 기반 API    | gRPC      |
| 빠른 개발        | SignalR   |

---

## 13. 결론

WebSocket, SignalR, gRPC는 서로 대체 관계가 아니라 **용도가 다른 기술**이다.
요구사항에 따라 적절한 기술을 선택하는 것이 중요하다.

- WebSocket은 **기반 통신 수단**
- SignalR은 **웹 실시간 프레임워크**
- gRPC는 **고성능 RPC 시스템**

각 기술은 설계 목적과 적용 영역이 명확히 구분된다.
